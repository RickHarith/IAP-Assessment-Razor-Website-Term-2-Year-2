@page
@model Coursework.Pages.ShoppingCartModel
@{
}
<main>
    <div class="signup-bg">
        <img src="Images\SignUp.png" class="sign-bg">
        <div class="signup-text">
            <h1>Your Shopping Cart</h1>
        </div>
    </div>
    <br>
    <br>
   	<br>
    @if (TempData["LoginSuccessMessage"] != null)
    {
	    <br>
	    <br>
	    <div class="text-success">
		    @TempData["LoginSuccessMessage"]
	    </div>
        <br>
        <br>
    }
    <table class="table">
        <thead>
            <tr>
                <th>Product Name</th>
                <th>Price</th>
                <th>Quantity</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
                @foreach (var product in Model.Cart)
                {
                <tr>
                    <td>@product.Name</td>
                    <td>@product.Price.ToString("$0.00")</td>
                    <td>@product.Quantity</td>
                    <td>
                        <form method="post" asp-page-handler="Delete" asp-route-id="@product.ProductId">
                            <button type="submit" class="delete-button">Delete</button>
                        </form>
                    </td>
                </tr>
                }
        </tbody>
        </table>
        <br>
        <br>
        <div>Total Price: @Model.TotalPrice.ToString("$0.00")</div>
        <br>
        <br>
        <form method="post" asp-page-handler="Clear">
            <button type="submit" class="delete-button-2">Clear all items</button>
        </form>
        <br>
        <br>
        <button class="add-to-cart-2">Checkout</button>
        <br>
        <br>
</main>